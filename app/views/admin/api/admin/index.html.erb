<% content_for :head do %>
  <title>GS API Account Moderation</title>
  <script src="https://js.stripe.com/v3/"></script>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css">
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
  <script>$(document).ready(function () {
    $.noConflict();
    $('#myTable').DataTable();
  });</script>
<% end %>

<% content_for :page_javascripts do %>
  <%= webpack_javascript_include_tag "commons", defer: true %>
  <%= webpack_javascript_include_tag 'react-redux', defer: true %>
  <%= webpack_javascript_include_tag 'admin-tools', defer: true %>
<% end %>

<h3>Api Accounts</h3>
<table class="api-accounts table table-striped" id="myTable">
  <thead>
  <tr>
    <th>Name</th>
    <th>Organization</th>
    <th>Email</th>
    <th>Active</th>
    <th>Added</th>
  </tr>
  </thead>
  <tbody>
  <% @subscriptions.each do |subscription| %>
    <tr>
      <td><%= link_to subscription.user.full_name, '#' %></td>
      <td><%= subscription.user.organization %></td>
      <td><%= subscription.user.email %></td>
      <td><%= subscription.status %></td>
      <td><%= subscription.created_at.strftime('%m/%d/%Y') %></td>
    </tr>
  <% end %>
  </tbody>
</table>


