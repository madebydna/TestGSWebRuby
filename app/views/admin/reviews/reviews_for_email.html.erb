<% content_for :page_javascripts do %>
  <%= webpack_javascript_include_tag 'moderation-tools', defer: true %>
  <%= react_component('SearchBoxWrapper') %>
  <script type="text/javascript">
    $(function() {
      $.getScript("<%= asset_path('deprecated_post_load_adapter.js') %>")
    })
  </script>
<% end %>

<%= render 'reviews_navigation', page_name: :users %>
<%= render 'reviews_user_ip_search' %>

<div class="ptl limit-width-1200">
  <h3>Reviews by User</h3>
  <%= render 'list_of_reviews', reviews: @reviews_by_user, css_class: 'flagged_reviews_table' %>

  <h3>Reviews flagged by User</h3>
  <%= render 'list_of_reviews', reviews: @reviews_flagged_by_user, css_class: 'reviews_flagged_by_user_table' %>

  <% if @banned_ip %>
      <h3>Block this IP</h3>
      <%= form_for @banned_ip, :url => admin_ban_ip_path do |banned_ip| %>
          reason: <%= banned_ip.text_field :reason %>
          <%= banned_ip.hidden_field :ip %>
          <%= banned_ip.submit "Block this IP", :name => 'disable_ip'%>
      <% end %>
  <% end %>

  <%= paginate @user_flags, param_name: :page if @user_flags %>
</div>