<!DOCTYPE html>
<html>
<head>
  <%= display_meta_tags %>
  <%= include_gon %>
  <%= stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true %>
  <%= javascript_include_tag "application", "data-turbolinks-track" => true %>
  <%= yield :javascript_includes %>
  <%= csrf_meta_tags %>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <% if @canonical_url.present? %>
    <link rel="canonical" href="<%= @canonical_url %>" />
  <% else %>
    <% Rails.logger.warn "Warning: Page #{request.original_url} has no rel canonical set" %>
  <% end %>
  <%= yield :head %>
</head>
<body class="open-sans">

<div class="js-header-message" style="display:none; margin-top: 8px;">
    <% flash.each do |key, value| %>
        <% value = Array(value) %>
        <% value.each do |msg| %>
            <% if key =~ /error/ %>
                <%= content_tag(:div, :class => "flash_#{key} alert alert-danger alert-dismissable") do -%>
                    <%= msg %> <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                <% end -%>
            <% else %>
                <%= content_tag(:div, :class => "flash_#{key} alert alert-warning alert-dismissable") do -%>
                    <%= msg %><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                <% end -%>
            <% end %>
        <% end %>
    <% end %>
</div>
<script type="text/javascript">
    $(".js-header-message").slideDown("slow");
</script>

<div class="dn">
  <%= unique_content_for(:global_hidden_content) %>
</div>

<%= content_for?(:content) ? yield(:content) : yield %>

<%=  render 'omniture/omniture' %>
<%=  render 'omniture/quantcast' %>
<%=  render 'omniture/comscore' %>
</body>
</html>
