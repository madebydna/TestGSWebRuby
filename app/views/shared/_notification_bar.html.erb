<% flash_type_to_alert_class_mapping = { 'error' => 'alert-danger', 'notice' => 'alert-warning', 'success' => 'alert-success'  } %>
<% flash.each do |key, value| %>
    <% css_class = flash_type_to_alert_class_mapping[key] %>
    <% value = Array(value) %>
    <% value.each do |msg| %>
        <%= content_tag(:div, :class => "flash_#{key} alert #{css_class} alert-dismissable") do -%>
            <%= msg %> <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
        <% end -%>
    <% end %>
    <% flash.discard(key) %>
<% end %>
<script>$(document).ready(function() {
    // show the alert
    setTimeout(function() {
        $(".alert").alert('close');
    }, 10000);
});</script>