<div class="header-bg-color">
  <div class="full-width limit-width-1200 js-searchResultsContainer">
    <div class="ptm hidden-xs"></div>
    <div class="row ptm pbm">
      <div class="full-width ">
          <% if @by_location %>
            <%= render 'assigned_school_not_valid' %>
            <%= render 'assigned_school_no_result' %>
            <%= render 'assigned_school_result', level: 'Elementary' %>
            <%= render 'assigned_school_result', level: 'Middle' %>
            <%= render 'assigned_school_result', level: 'High' %>
          <% elsif !@by_name %>
            <%= render 'assigned_school_not_valid' %>
          <% end %>
        <%= render 'compare_schools_error_message' %>
        <% if @show_ads %>
            <%= render 'layouts/ad_layer', page: ('Search').to_sym, slot: 'Content_Top'.to_sym, view: :desktop %>=
            <%= render 'layouts/ad_layer', page: ('Search').to_sym, slot: 'Content_Top'.to_sym,  view: :mobile %>
        <% end %>
        <% ad_counter = 0 %>
        <% @schools.each_with_index do |school, search_result_counter| %>
            <% if [4, 8, 12, 16, 20].include?(search_result_counter) %>

              <%= render 'search_ad_section',  desktop_slots: @results_ad_slots[:desktop], ad_counter: ad_counter, mobile_slots: @results_ad_slots[:mobile] %>
              <% ad_counter += 1 %>
            <% end %>
            <% decorated_school = SchoolSearchResultDecorator.decorate(school) %>
            <% @school = decorated_school %>
            <%= render 'search_result', school: school, decorated_school: decorated_school %>
        <% end %>
        <% if @show_ads %>
            <%= render 'layouts/ad_layer', page: ('Search').to_sym, slot: 'Footer'.to_sym, view: :desktop %>
            <%= render 'layouts/ad_layer', page: ('Search').to_sym, slot: 'Footer'.to_sym,  view: :mobile %>
        <% end %>
      </div>
    </div>
  </div>
</div>
