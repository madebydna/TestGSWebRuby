<% ajax %>
<div>
  <%= form_tag authenticate_user_path, method: :post, remote: ajax,
              id: '',
              class: 'js-signin-form',
              'data-parsley-namespace' => "data-parsley-" do %>
    <%= token_tag form_authenticity_token %>
        <p class="<%= 'active' if @active_tab == 'join' %>"><%= t('.no_account_label') %>
          <a href="#join" data-toggle="tab" id="js_join_tab"> <%= t('.signup_tab') %></a>
        </p>

        <button type="button" data-link-value="<%= facebook_connect_url %>" class="btn-facebook js-facebook-signin js-button-link">
          <span class="icon-facebook"></span><%= t('.facebook_signin_button') %>
        </button>
        <p class="js-facebook-signin-errors help-block"></p>

        <div class="divider">
          <p class="line"><span><%= t('.or') %></span></p>
          <p>Log in with your email</p>
        </div>

        <%= email_field_tag(
              :email,
              nil,
              {
                id: "email",
                placeholder: "#{t('.email_label')}",
                class: 'js-signin-email',
                'data-parsley-required' => "true",
                'data-parsley-type' => "email",
                'data-parsley-required-message' => t('.email_required_error'),
                'data-parsley-error-container' => ".js-signin-email-errors"
              }
            ) %>
          <p class="js-signin-email-errors help-block"></p>

        <input type="password" id="password" name="password" placeholder="<%= t('.password_label') %>" data-parsley-required="true" data-parsley-error-container=".js-signin-password-errors">
        <p class="js-signin-password-errors help-block"></p>

        <div class="terms-and-privacy">
          <span><%= link_to t('.forgot_password_link'), forgot_password_url %></span>
          <p class="js-join-terms-errors help-block"></p>
        </div>

        <button class="submit js-join-login-submit-button"><%= t('.login_button') %></button>
  <% end %>
</div>
