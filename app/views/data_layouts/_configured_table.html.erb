<% data_config = category_placement.table_config %>
<%= render layout:'col', locals:{ css_class:'', category_placement: category_placement} do  %>

    <a name="<%= category.code_name %>"></a>
    <p style="padding-top: 50px; margin-top: -50px;"><!-- do not collapse --></p>
    <h4><%= category.name %></h4>
    <table class="table table-striped no-more-tables">
        <thead>
            <tr>
                <% category_placement.table_config.columns_to_print(data).each do |column| %>
                    <% if column['display_type'] == :data_and_header %>
                        <th><%= column['label'] %></th>
                    <% else %>
                        <th>&nbsp;</th>
                    <% end %>
                <% end %>
            </tr>
        </thead>
        <tbody>

        <% data.rows.each do |hash| %>
            <tr>

                <% data_config.columns_to_print(data).each do |column| %>
                    <% if hash[column['key'].to_sym] %>
                        <td data-title="<%= column['label'] %>">
                            <% value = hash[column['key'].to_sym] %>
                            <% if value.class == 'Array' %>
                                <% value.each do |val| %>
                                    <%= val %><br/>
                                <% end %>
                            <% else %>
                                <%= value %>
                            <% end %>
                        </td>
                    <% end %>
                <% end %>

            </tr>
        <% end %>
        </tbody>
    </table>

<% end %>
