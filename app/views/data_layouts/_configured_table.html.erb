<% data_config = category_placement.table_config %>
<% data = TableData.new data %>
<%= render layout:'col', locals:{ css_class:'', category_placement: category_placement} do  %>

    <a name="<%= category.code_name %>"></a>
    <p style="padding-top: 50px; margin-top: -50px;"><!-- do not collapse --></p>

    <% unless data_config.config['hide_header'] == true %>
        <h4><%= category.name %></h4>
    <% end %>

    <table class="table table-striped no-more-tables">
        <thead>
            <tr>
                <% category_placement.table_config.columns_to_print(data).each do |column| %>
                    <% if column['display_type'] == :data_and_header %>
                        <th><%= column['label'] %></th>
                    <% else %>
                        <th>&nbsp;</th>
                    <% end %>
                <% end %>
            </tr>
        </thead>

        <tbody>
            <% columns_to_print = data_config.columns_to_print(data) %>

            <% data.rows.each do |hash| %>
                <tr>
                   <% data_config.row_values(columns_to_print, hash) do |label, value| %>
                      <%= td label, value %>
                   <% end %>
                </tr>
            <% end %>
        </tbody>
    </table>

<% end %>
