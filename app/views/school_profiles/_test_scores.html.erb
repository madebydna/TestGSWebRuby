<% test_scores %>
<% title = t('.title') %>
<% subtitle = t('.subtitle_html') %>
<% rating = test_scores.rating %>
<% info_text = test_scores.info_text  %>
<% data_values = test_scores.subject_scores || [] %>
<% initial_size = 3 %>
<% content = test_scores.sources %>


<div class="rating-container rs-test-scores">
  <a class="anchor-mobile-offset" name="Test_scores"></a>
  <div class="rating-container__rating">
    <%= render "module_header",
      circle_color_modifier: rating,
      circle_content: rating,
      title: t('lib.test_scores.Test scores'),
      subtitle: subtitle,
      info_text: info_text
    %>
  </div>

  <%= render partial: "rating_score_item", collection: data_values.take(initial_size), as: :score_data %>

  <% if data_values.size > initial_size %>
    <div class="rating-container__more-items">
      <%= render layout:"drawer", locals: { :ga_category => 'Profile', :ga_label => 'Test Scores' } do %>
        <% render partial: "rating_score_item", collection: data_values[initial_size..-1], as: :score_data %>
      <% end %>
    </div>
  <% end %>
  <div>
    <a data-remodal-target="modal_info_box"
       data-content-type="info_box"
       data-content-html="<%= content %>"

       href="javascript:void(0)">
      <span class="source-link"><%= t('lib.test_scores.see notes') %></span>
    </a>
  </div>
</div>
