<% student_progress %>
<% title = t('.title') %>
<% rating = student_progress.rating %>
<% info_text = student_progress.info_text  %>
<% narration = student_progress.narration %>
<% sources = student_progress.sources %>

<% content_for(:header, flush: true) do %>
  <%= render 'module_header',
    circle_color_modifier: rating,
    circle_content: rating,
    title: title,
    info_text: info_text,
    has_data: student_progress.has_data?,
    show_historical_ratings: student_progress.show_historical_ratings?
  %>
<% end %>

<% content_for(:historical_ratings, flush: true) do %>
  <%=
    if student_progress.show_historical_ratings?
      render 'historical_ratings', historical_ratings: student_progress.historical_ratings,
        title: t('.historical.title'), subtitle: t('.historical.subtitle')
    end
  %>
<% end %>

<%= render layout: 'basic_data_module_layout', locals: {
  has_data: student_progress.has_data?,
  name: 'Student progress',
  sources_link: student_progress.sources,
  qualaroo_link: student_progress.qualaroo_module_link,
  narration: narration
} do %>
<% end %>
